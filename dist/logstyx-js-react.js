var ee=Object.create;var x=Object.defineProperty,te=Object.defineProperties,ne=Object.getOwnPropertyDescriptor,re=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,ie=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var C=(t,e,n)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p=(t,e)=>{for(var n in e||(e={}))j.call(e,n)&&C(t,n,e[n]);if(A)for(var n of A(e))ae.call(e,n)&&C(t,n,e[n]);return t},O=(t,e)=>te(t,re(e));var se=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ce=(t,e,n,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of oe(e))!j.call(t,r)&&r!==n&&x(t,r,{get:()=>e[r],enumerable:!(c=ne(e,r))||c.enumerable});return t};var ue=(t,e,n)=>(n=t!=null?ee(ie(t)):{},ce(e||!t||!t.__esModule?x(n,"default",{value:t,enumerable:!0}):n,t));var B=se((Ae,W)=>{var ye=Object.defineProperty,U=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,T=(t,e,n)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||(e={}))we.call(e,n)&&T(t,n,e[n]);if(U)for(var n of U(e))ve.call(e,n)&&T(t,n,e[n]);return t},R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),N=(t,e,n)=>new Promise((c,r)=>{var o=i=>{try{s(n.next(i))}catch(l){r(l)}},u=i=>{try{s(n.throw(i))}catch(l){r(l)}},s=i=>i.done?c(i.value):Promise.resolve(i.value).then(o,u);s((n=n.apply(t,e)).next())}),Se=R(t=>{t.sanitizeObject=e=>Object.entries(e).reduce((n,[c,r])=>(r!=null&&r!==""&&!(Array.isArray(r)&&r.length===0)&&!(typeof r=="object"&&!Array.isArray(r)&&Object.keys(r).length===0&&r.constructor===Object)&&(n[c]=r),n),{}),t.normalizeArgs=e=>{var n,c;let r=(o,u=0,s=new WeakSet)=>{if(o===null||typeof o!="object")return typeof o=="string"&&o.length>500?o.substring(0,500)+"... (truncated)":o;if(u>=2)return"[Max depth reached]";if(s.has(o))return"[Circular]";if(s.add(o),Array.isArray(o))return o.slice(0,10).map(l=>r(l,u+1,s));let i={};for(let l in o)l.startsWith("_")||Object.prototype.hasOwnProperty.call(o,l)&&typeof o[l]!="function"&&(i[l]=r(o[l],u+1,s));return i};if(e instanceof Error){let o={title:(c=e.name)!=null?c:(n=e==null?void 0:e.constructor)==null?void 0:n.name,message:e.message,stack:e.stack||null},u=new WeakSet;return Object.keys(e).forEach(s=>{!o[s]&&typeof e[s]!="function"&&(o[s]=r(e[s],0,u))}),o}return e==null?{message:String(e)}:Array.isArray(e)?{message:JSON.stringify(e)}:typeof e=="object"?e:{message:String(e)}}}),Oe=R(t=>{var{sanitizeObject:e,normalizeArgs:n}=Se();t.useLogstyx=c=>{let{projectId:r,apiKey:o,appid:u,endpoint:s,device:i,sendFunc:l,signatureFunc:k,maxLogInQueue:_=12,onError:P}=c;typeof l!="function"&&(l=fetch);let d=[],w=!1,v=0,h=null,m={appid:u};function q(a){m=F(F({},m),a)}function G(a){if(Array.isArray(a))for(let f of a)delete m[f];else m={}}function I(a,f){if(typeof P=="function")try{P(a,f)}catch(b){}}function M(){if(!(w||h)&&d.length>0){let a=Math.min(1e3*Math.pow(2,v),3e4);h=setTimeout(X,a)}}function X(){return N(this,null,function*(){if(h&&(clearTimeout(h),h=null),!(w||d.length===0)){w=!0;try{let{level:a,data:f}=d[0];yield g(a,f,!0),d.shift(),v=0}catch(a){v++;let f=d.shift();d.push(f),I(a,{level:f.level,queueLength:d.length,consecutiveFailures:v})}finally{w=!1}M()}})}function g(a){return N(this,arguments,function*(f,b={},V=!1){try{let S=e({level:f,projectId:r,appid:u,device:i,context:e(m),data:e(n(b))}),y={"Content-Type":"application/json"};if(typeof k=="function"){let{timestamp:Y,signature:Z}=k(r,o,S);y.signature=Z,y.timestamp=Y}return yield l(s,{method:"POST",body:JSON.stringify(S),headers:y})}catch(S){if(V)throw S;if(d.length>=_){let y=d.shift();I(new Error("Queue full, dropping oldest log"),{dropped:y})}d.push({level:f,data:b}),M()}})}return{info:a=>g("INFO",a),warning:a=>g("WARNING",a),error:a=>g("ERROR",a),critical:a=>g("CRITICAL",a),send:g,setContext:q,clearContext:G,getQueueLength:()=>d.length}}}),{useLogstyx:be}=Oe();W.exports=t=>be(t)});import le from"react";var{cloneElement:de,isValidElement:fe}=le,pe={click:"onClick",doubleClick:"onDoubleClick",contextMenu:"onContextMenu",focus:"onFocus",blur:"onBlur",change:"onChange",input:"onInput",submit:"onSubmit",reset:"onReset",keyDown:"onKeyDown",keyUp:"onKeyUp",keyPress:"onKeyPress",mouseDown:"onMouseDown",mouseUp:"onMouseUp",mouseMove:"onMouseMove",mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOver:"onMouseOver",mouseOut:"onMouseOut",wheel:"onWheel",touchStart:"onTouchStart",touchMove:"onTouchMove",touchEnd:"onTouchEnd",drag:"onDrag",dragStart:"onDragStart",dragEnd:"onDragEnd",dragEnter:"onDragEnter",dragLeave:"onDragLeave",dragOver:"onDragOver",drop:"onDrop",scroll:"onScroll",animationStart:"onAnimationStart",animationEnd:"onAnimationEnd",animationIteration:"onAnimationIteration",transitionEnd:"onTransitionEnd",pointerDown:"onPointerDown",pointerUp:"onPointerUp",pointerMove:"onPointerMove",pointerEnter:"onPointerEnter",pointerLeave:"onPointerLeave",pointerOver:"onPointerOver",pointerOut:"onPointerOut"},ge=({children:t,event:e,context:n={},data:c={},logger:r})=>{let o=pe[e];if(!fe(t)||!o)return t;let u=t.props[o],s=(...i)=>{r.info(p(p({},n),c)),typeof u=="function"&&u(...i)};return de(t,{[o]:s})},D=ge;var he=t=>/Windows NT/.test(t)?"Windows":/Mac OS X/.test(t)?"MacOS":/Linux/.test(t)?"Linux":/Android/.test(t)?"Android":/iPhone|iPad|iPod/.test(t)?"iOS":"Unknown",me=t=>/Chrome/.test(t)&&!/Edg/.test(t)?"Chrome":/Edg/.test(t)?"Edge":/Firefox/.test(t)?"Firefox":/Safari/.test(t)&&!/Chrome/.test(t)?"Safari":"Unknown",L=()=>{try{if(typeof window=="undefined")return{type:"server"};let t=typeof window!="undefined"&&window.location?window.location.origin:void 0,e=typeof navigator!="undefined"?navigator.userAgent:"",n=typeof window!="undefined"&&window.screen?`${window.screen.width}x${window.screen.height}`:void 0;return{type:"react",origin:t,os:he(e),browser:me(e),screen:n}}catch(t){return{type:"react"}}};var H=ue(B(),1);import xe from"react";import{jsx as z}from"react/jsx-runtime";var E=class extends xe.Component{constructor(e){super(e),this.logger=e.logger,this.state={hasError:!1,errorInfo:null}}componentDidCatch(e,n){this.logger.error({type:"reactErrorBoundary",error:(e==null?void 0:e.message)||String(e),stack:e==null?void 0:e.stack,componentStack:n==null?void 0:n.componentStack}),this.setState({hasError:!0,errorInfo:n})}render(){if(this.state.hasError){let{fallbackUI:e}=this.props;return e?z(e,{error:this.state.error,errorInfo:this.state.errorInfo}):z("h1",{children:JSON.stringify(this.state.errorInfo,null,2)})}return this.props.children}},J=E;var K=(t,{body:e})=>{let n=new Blob([e],{type:"application/json"});return navigator.sendBeacon(t,n)};var Q=()=>{let t="logstyx_sid",e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));if(e)return e[2];let n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return document.cookie=`${t}=${n}; path=/; SameSite=Strict`,n};import{jsx as $}from"react/jsx-runtime";var Re=(t={})=>{let e=L(),n=(0,H.default)(O(p({},t),{sendFunc:K,device:t.device||e})),c=()=>{typeof window!="undefined"&&n.setContext({url:window.location.href,pageTitle:document.title,referrer:document.referrer})};if(c(),typeof window!="undefined"){window.addEventListener("popstate",c);let r=window.history.pushState;window.history.pushState=function(...o){r.apply(this,o),c()}}if((t==null?void 0:t.persistentSession)===!0){let r=Q();n.setContext({sessionId:r})}if((t==null?void 0:t.captureUncaught)===!0)try{typeof window!="undefined"&&(window.onerror=(r,o,u,s,i)=>{n.critical({title:(i==null?void 0:i.name)||"Unknown Error",message:r||(i==null?void 0:i.message),stack:(i==null?void 0:i.stack)||null})})}catch(r){console.error(r)}if((t==null?void 0:t.captureUnhandledRejections)===!0)try{let r=o=>{let u=o instanceof Error?o.message:String(o),s=o instanceof Error?o.stack:void 0,i=o instanceof Error?o.name:"Unhandled Rejection";n.critical({title:i,message:u,stack:s})};typeof window!="undefined"&&(window.onunhandledrejection=o=>r(o.reason))}catch(r){console.error(r)}return n.Trackable=r=>$(D,O(p({},r),{logger:n})),n.ErrorBoundary=r=>$(J,O(p({},r),{logger:n})),n};export{Re as default};
